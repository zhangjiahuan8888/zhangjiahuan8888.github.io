<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>张家欢</title>
  <subtitle>竹杖芒鞋轻胜马，谁怕？一蓑代码任平生</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://zhangjiahuan.cn/"/>
  <updated>2017-03-21T09:12:16.000Z</updated>
  <id>http://zhangjiahuan.cn/</id>
  
  <author>
    <name>zhangjiahuan</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>关于代码重构</title>
    <link href="http://zhangjiahuan.cn/2017/03/20/%E5%85%B3%E4%BA%8E%E4%BB%A3%E7%A0%81%E9%87%8D%E6%9E%84/"/>
    <id>http://zhangjiahuan.cn/2017/03/20/关于代码重构/</id>
    <published>2017-03-20T14:38:49.000Z</published>
    <updated>2017-03-21T09:12:16.000Z</updated>
    
    <content type="html"><![CDATA[<p>###重构目的<br>如果只是想快速的完成产品功能并且上线的话，这种情况下是以完成功能和上线为目的，所以重构并不是主要的。在这里可能有人会反问，代码没架构好，产品后期升级和维护是噩梦。上面也说过， 重构应该把握一个度 ,在产品开发前期重构不是主要的不代表不重构，小部分重构还是需要的，比如写完两天的代码可以花上一个小时review一下，抽离复用的代码，但不要花太多时间重构，没必要也不值得，开发前期的目的就是上线产品。<br>对于大型的项目来说，可能每秒的请求都是几十万几百万的， 重构与开发同等重要 ，因为大型项目对性能的要求比较高，如果没有一个好的架构，严重影响程序的运行速度，这样的产品迟早完蛋，到后期就会变得臃肿不堪.</p>
<p>###如何重构</p>
<p>首先，要对程序的一般架构烂熟于心，尤其是MVC，这是基本。还有就是分离存储和网络请求的逻辑。</p>
<p>对于一些常用的控件尽量分离复用，设置开关函数，适当的时候开启，不要的时候关闭，有必要的话还可以 延迟加载</p>
<p>对于一些高频率控件，比如风格统一的按钮，尽量使用 工厂方法 创建，尽量达到牵一发动全身的效果</p>
<p>有效利用常量。例如： 宏定义 、 枚举 尽量用这些常量表示一些状态。接下来会总结一些常用的一些宏。</p>
<p>删掉死代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil</div><div class="line">&#123;</div><div class="line">    if ((self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil])) &#123;</div><div class="line">        // Custom initialization</div><div class="line">    &#125;</div><div class="line">    return self;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)didReceiveMemoryWarning &#123;</div><div class="line">    [super didReceiveMemoryWarning];</div><div class="line">    // Dispose of any resources that can be recreated.</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>使用Category抽离一些使用频率高的功能。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;###重构目的&lt;br&gt;如果只是想快速的完成产品功能并且上线的话，这种情况下是以完成功能和上线为目的，所以重构并不是主要的。在这里可能有人会反问，代码没架构好，产品后期升级和维护是噩梦。上面也说过， 重构应该把握一个度 ,在产品开发前期重构不是主要的不代表不重构，小部分重构还
    
    </summary>
    
    
      <category term="重构" scheme="http://zhangjiahuan.cn/tags/%E9%87%8D%E6%9E%84/"/>
    
      <category term="代码优化" scheme="http://zhangjiahuan.cn/tags/%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/"/>
    
      <category term="iOS" scheme="http://zhangjiahuan.cn/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>北京的白天与黑夜</title>
    <link href="http://zhangjiahuan.cn/2017/03/14/%E5%8C%97%E4%BA%AC%E7%9A%84%E7%99%BD%E5%A4%A9%E4%B8%8E%E9%BB%91%E5%A4%9C/"/>
    <id>http://zhangjiahuan.cn/2017/03/14/北京的白天与黑夜/</id>
    <published>2017-03-14T15:36:00.000Z</published>
    <updated>2017-03-14T15:37:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>清晨的街头，<br>摩拜依旧在争先恐后。<br>小小的轮子，<br>承载的到底是什么，<br>是北京的喧嚣？<br>是奔向前方的希望？<br>还是只顾着赶路的急切？<br>有你有我。<br>不曾知道环线上的车水马龙，<br>公主坟的换乘，<br>是每天的必修课，<br>更像是一门体育课。<br>高楼里的小蚂蚁，<br>对着电脑打哈欠，<br>手指不停息。<br>生活总是这样，<br>慌慌张张、匆匆忙忙。<br>傍晚，<br>路灯悄悄亮起，<br>地铁依旧很挤，<br>鸡蛋灌饼还是那个味道，<br>公寓依旧嘈杂。<br>夜深人静了，<br>也会让人胡思乱想，<br>明天会是在哪里。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;清晨的街头，&lt;br&gt;摩拜依旧在争先恐后。&lt;br&gt;小小的轮子，&lt;br&gt;承载的到底是什么，&lt;br&gt;是北京的喧嚣？&lt;br&gt;是奔向前方的希望？&lt;br&gt;还是只顾着赶路的急切？&lt;br&gt;有你有我。&lt;br&gt;不曾知道环线上的车水马龙，&lt;br&gt;公主坟的换乘，&lt;br&gt;是每天的必修课，&lt;br&gt;更像
    
    </summary>
    
      <category term="生活" scheme="http://zhangjiahuan.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="北漂" scheme="http://zhangjiahuan.cn/tags/%E5%8C%97%E6%BC%82/"/>
    
      <category term="前路" scheme="http://zhangjiahuan.cn/tags/%E5%89%8D%E8%B7%AF/"/>
    
      <category term="感悟" scheme="http://zhangjiahuan.cn/tags/%E6%84%9F%E6%82%9F/"/>
    
  </entry>
  
  <entry>
    <title>北漂：写在上家公司解散之后</title>
    <link href="http://zhangjiahuan.cn/2016/11/03/%E5%8C%97%E6%BC%82%EF%BC%9A%E5%86%99%E5%9C%A8%E4%B8%8A%E5%AE%B6%E5%85%AC%E5%8F%B8%E8%A7%A3%E6%95%A3%E4%B9%8B%E5%90%8E/"/>
    <id>http://zhangjiahuan.cn/2016/11/03/北漂：写在上家公司解散之后/</id>
    <published>2016-11-03T15:37:49.000Z</published>
    <updated>2016-12-14T01:29:23.000Z</updated>
    
    <content type="html"><![CDATA[<p>现在是2016年11月3日，晚上11点，随便写点什么吧。</p>
<p>就在一个多月前，也就是国庆节放假前夕，前公司领导弹开了我的QQ界面，原文大概是这样：“国庆节回来之后，集团要对富海进行清算了，赶紧找下家跳吧”。得知这个噩耗，内心是平静的，却又不那么平静，其实自从“融财易”上架之后，我的确有三个月真真正正没有做项目了，公司的解散也是意料之中吧，只是来的有点突然，让我刚刚稳定了一点平静了一点的生活又要踏上一段未知的飘摇。</p>
<p>国庆回来，又是拖延了三天，其中还约了两个面试，10号正式离职，下午打最后一次卡，背着包从财富中心最后一次走下，心中或许还有些许的不舍，但当走出大堂，抬头看着熟悉的灯火辉煌的央视大楼，东三环的车水马龙，更多的是对前路的不确定。他妈的，老子又要从头开始了！</p>
<p>之后开始了待在出租屋的投简历的漫长生活，每天几百份简历投出去等待着面试电话的时间特别漫长，似乎连手中的点八中南海的自燃速度都跟着慢了下来，一星期屈指可数的面试真的很考验心理承受能力。以至于准备放弃北京，回济宁过小日子去，约了两场面试，然而情况并不理想，回济宁的念头打消。后来试着投了天津的公司，的确还是外地的公司比较慧眼识珠，约了两个面试，谈好了一家公司，房子都找好了，正待离开北京时候，几个朋友相劝留在北京，最终也没去成天津，或许以后有机会吧。</p>
<p>留在北京，工作依然不好找，北京的iOS开发处于水深火热之中，硬着头皮继续四处投递简历，以乞求一份面试邀请，古人说得好：瞎猫总会碰见死耗子的。还是换来了几份面试，而且结果也是好的，最终拿到了两家的offer，没多想就选择了现在的公司，一家叫火星小毛驴的公司，这个名字我喜欢。</p>
<p>前路我依然不知道是个什么样子，我要的生活是什么我也不知道，但我知道明天总会比昨天变得好一点，只要你想它变得好一点。</p>
<p>当生活依然不明朗的时候你能做的就是不断学习，让自己足够强大起来，机会也会更多的向你走来，继续奋斗吧，少年。哦不，应该是大龄青年了。。。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;现在是2016年11月3日，晚上11点，随便写点什么吧。&lt;/p&gt;
&lt;p&gt;就在一个多月前，也就是国庆节放假前夕，前公司领导弹开了我的QQ界面，原文大概是这样：“国庆节回来之后，集团要对富海进行清算了，赶紧找下家跳吧”。得知这个噩耗，内心是平静的，却又不那么平静，其实自从“融财
    
    </summary>
    
      <category term="生活" scheme="http://zhangjiahuan.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="倒闭" scheme="http://zhangjiahuan.cn/tags/%E5%80%92%E9%97%AD/"/>
    
      <category term="北漂" scheme="http://zhangjiahuan.cn/tags/%E5%8C%97%E6%BC%82/"/>
    
  </entry>
  
  <entry>
    <title>Cocoa Touch上复合设计模式的MVC</title>
    <link href="http://zhangjiahuan.cn/2016/09/23/Cocoa-Touch%E4%B8%8A%E5%A4%8D%E5%90%88%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84MVC%20/"/>
    <id>http://zhangjiahuan.cn/2016/09/23/Cocoa-Touch上复合设计模式的MVC /</id>
    <published>2016-09-23T09:30:48.000Z</published>
    <updated>2016-09-23T09:30:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>MVC本身不是最基本的设计模式，它包含了若干更加基本的设计模式。在MVC 中，基本设计模式互相配合，确定了各项功能之间的协作，这是MVC应用程序的特性。<br>Cocoa Touch的MVC用到的模式有：组合、命令、中介者、策略和观察者。</p>
<h4 id="组合"><a href="#组合" class="headerlink" title="组合"></a>组合</h4><p>视图对象之间以协作的方式构成一个视图层次体系，其中既可以有复合视图（比如表格视图），也可以有独立视图（比如文本框或按钮）。每个层次的每个视图节点都可以响应用户的操作并把自己绘制到屏幕上。</p>
<h4 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h4><p>这是一种“目标-动作”机制，视图对象可以推迟其他对象（比如控制器）的执行，让其他对象等到发生了某些事件之后再执行，这一机制构成了命令模式。</p>
<h4 id="中介者"><a href="#中介者" class="headerlink" title="中介者"></a>中介者</h4><p>控制器对象起着中间人的作用，而这个中间人则采用了中介者模式，它构成了在模型和视图对象之家传递数据的双向通道。应用程序的控制器对象将模型的变更传达给视图对象。</p>
<h4 id="策略"><a href="#策略" class="headerlink" title="策略"></a>策略</h4><p>控制器可以使试图对象的一个“策略”，视图对象将自己隔离，以期维持其作为数据展示器的唯一职责，而将一切应用程序持有的界面行为决定委派给它的“策略”对象（控制器）。</p>
<h4 id="观察者"><a href="#观察者" class="headerlink" title="观察者"></a>观察者</h4><p>模型对象向它所关注的控制器等对象发出内部状态变化的通知，从而控制器将变更了数据模型传递给视图，更新视图。</p>
<h4 id="这些模式协同工作流程："><a href="#这些模式协同工作流程：" class="headerlink" title="这些模式协同工作流程："></a>这些模式协同工作流程：</h4><ol>
<li>用户在视图上用手指触摸或拖动，产生一个触摸事件。被触摸的实际视图就在视图组合中的某个层次上。视图将触摸消息传达给试图控制器。</li>
<li>控制器对象接收到触摸事件及其相关信息，然后应用策略来改变模型的状态，必要时请求视图对象根据此事件更新其行为或外观。</li>
<li>每当变更发生并已反映到模型对象，模型对象就会通知所有已注册的观察者对象，如控制器。</li>
<li>控制器就像一个协调人，它将变更了的数据从模型传递给视图，以便视图可以相应地更新其外观。</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MVC本身不是最基本的设计模式，它包含了若干更加基本的设计模式。在MVC 中，基本设计模式互相配合，确定了各项功能之间的协作，这是MVC应用程序的特性。&lt;br&gt;Cocoa Touch的MVC用到的模式有：组合、命令、中介者、策略和观察者。&lt;/p&gt;
&lt;h4 id=&quot;组合&quot;&gt;&lt;
    
    </summary>
    
      <category term="iOS" scheme="http://zhangjiahuan.cn/categories/iOS/"/>
    
    
      <category term="MVC" scheme="http://zhangjiahuan.cn/tags/MVC/"/>
    
      <category term="设计模式" scheme="http://zhangjiahuan.cn/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>WKWebView来代替UIWebView使用</title>
    <link href="http://zhangjiahuan.cn/2016/08/26/WKWebView%E6%9D%A5%E4%BB%A3%E6%9B%BFUIWebView/"/>
    <id>http://zhangjiahuan.cn/2016/08/26/WKWebView来代替UIWebView/</id>
    <published>2016-08-26T06:14:35.000Z</published>
    <updated>2016-10-31T06:24:56.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>以前加载网页视图一直使用UIWebView，因为一直没有过太复杂的网页，所以没有遇到占用内存过大的问题。昨天有人问我UIWebView内存处理问题，一时也不知如何回答，后来想起iOS8发布的WebKit框架中WKWebView进行了大幅优化，可以减小内存的占用及加载速度也更快，因此进行了小的尝试，果然WKWebView的提升很明显，简直大爱。。</p>
<h3 id="先看效果"><a href="#先看效果" class="headerlink" title="先看效果"></a>先看效果</h3><p><img src="http://ww3.sinaimg.cn/large/c05ce1e9gw1f76zip8fnoj207a04waae.jpg" alt="使用UIWebView内存占用"><img src="http://ww2.sinaimg.cn/large/c05ce1e9gw1f76ziy6enjj207804vt93.jpg" alt="使用WKWebView内存占用"></p>
<p>测试网页使用的是中关村首页，相对图片较多、较复杂。使用UIWebView占用内存为40兆上下，使用了WKWebView之后占用内存不到10兆，简直要飞起的节奏啊</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>导入#import <webkit webkit.h=""></webkit></p>
<p>初始化并加载url</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//初始化WKWebView</div><div class="line">WKWebView *webView = [[WKWebView alloc] initWithFrame:CGRectMake(0, 64, SCREEN_WIDTH, SCREEN_HEIGHT)]; </div><div class="line">[self addSubview:webView];</div><div class="line">//加载url</div><div class="line">[webView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:@&quot;http://www.zol.com.cn&quot;]]];</div></pre></td></tr></table></figure>
<p>WKWebView代理: WKNavigationDelegate、WKUIDelegate和WKScriptMessageHandler。</p>
<h3 id="1-WKNavigationDelegate"><a href="#1-WKNavigationDelegate" class="headerlink" title="1.WKNavigationDelegate"></a>1.WKNavigationDelegate</h3><p>（该代理提供的方法，可以用来追踪加载过程（页面开始加载、加载完成、加载失败）、决定是否执行跳转。）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">// 页面开始加载时调用</div><div class="line">- (void)webView:(WKWebView *)webView didStartProvisionalNavigation:(WKNavigation *)navigation;</div><div class="line">// 当内容开始返回时调用</div><div class="line">- (void)webView:(WKWebView *)webView didCommitNavigation:(WKNavigation *)navigation;</div><div class="line">// 页面加载完成之后调用</div><div class="line">- (void)webView:(WKWebView *)webView didFinishNavigation:(WKNavigation *)navigation;</div><div class="line">// 页面加载失败时调用</div><div class="line">- (void)webView:(WKWebView *)webView didFailProvisionalNavigation:(WKNavigation *)navigation;</div></pre></td></tr></table></figure>
<p>页面跳转的代理方法有三种，分为（收到跳转与决定是否跳转两种）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// 接收到服务器跳转请求之后调用</div><div class="line">- (void)webView:(WKWebView *)webView didReceiveServerRedirectForProvisionalNavigation:(WKNavigation *)navigation;</div><div class="line">// 在收到响应后，决定是否跳转</div><div class="line">- (void)webView:(WKWebView *)webView decidePolicyForNavigationResponse:(WKNavigationResponse *)navigationResponse decisionHandler:(void (^)(WKNavigationResponsePolicy))decisionHandler;</div><div class="line">// 在发送请求之前，决定是否跳转</div><div class="line">- (void)webView:(WKWebView *)webView decidePolicyForNavigationAction:(WKNavigationAction *)navigationAction decisionHandler:(void (^)(WKNavigationActionPolicy))decisionHandler;</div></pre></td></tr></table></figure>
<h3 id="2-WKUIDelegate"><a href="#2-WKUIDelegate" class="headerlink" title="2.WKUIDelegate"></a>2.WKUIDelegate</h3><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">// 创建一个新的WebView</div><div class="line">- (WKWebView *)webView:(WKWebView *)webView createWebViewWithConfiguration:(WKWebViewConfiguration *)configuration forNavigationAction:(WKNavigationAction *)navigationAction windowFeatures:(WKWindowFeatures *)windowFeatures;	</div><div class="line">//关闭WKWebView</div><div class="line">- (void)webViewDidClose:(WKWebView *)webView NS_AVAILABLE(10_11, 9_0);</div><div class="line">//对应js的Alert方法</div><div class="line">/**</div><div class="line"> *  web界面中有弹出警告框时调用</div><div class="line"> *</div><div class="line"> *  @param webView           实现该代理的webview</div><div class="line"> *  @param message           警告框中的内容</div><div class="line"> *  @param frame             主窗口</div><div class="line"> *  @param completionHandler 警告框消失调用</div><div class="line"> */</div><div class="line">- (void)webView:(WKWebView *)webView runJavaScriptAlertPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(void))completionHandler;</div><div class="line">//对应js的confirm方法</div><div class="line">- (void)webView:(WKWebView *)webView runJavaScriptConfirmPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(BOOL result))completionHandler;</div><div class="line">//对应js的prompt方法</div><div class="line">- (void)webView:(WKWebView *)webView runJavaScriptTextInputPanelWithPrompt:(NSString *)prompt defaultText:(nullable NSString *)defaultText initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(NSString * __nullable result))completionHandler;</div></pre></td></tr></table></figure>
<h3 id="3-WKScriptMessageHandler"><a href="#3-WKScriptMessageHandler" class="headerlink" title="3.WKScriptMessageHandler"></a>3.WKScriptMessageHandler</h3><p>这个协议中包含一个必须实现的方法，这个方法是提高App与web端交互的关键，它可以直接将接收到的JS脚本转为OC或Swift对象。（当然，在UIWebView也可以通过“曲线救国”的方式与web进行交互，著名的Cordova框架就是这种机制）</p>
<p>从协议中我们可以看出这里使用了两个类WKUserContentController和WKScriptMessage。WKUserContentController可以理解为调度器，WKScriptMessage则是携带的数据。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// 从web界面中接收到一个脚本时调用</div><div class="line">- (void)userContentController:(WKUserContentController *)userContentController didReceiveScriptMessage:(WKScriptMessage *)message;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;p&gt;以前加载网页视图一直使用UIWebView，因为一直没有过太复杂的网页，所以没有遇到占用内存过大的问题。昨天有人问我UIWebView内存处
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Swift之去掉UITableView headerView黏性</title>
    <link href="http://zhangjiahuan.cn/2016/08/24/Swift%E4%B9%8B%E5%8E%BB%E6%8E%89UItableview-headerview%E9%BB%8F%E6%80%A7%20/"/>
    <id>http://zhangjiahuan.cn/2016/08/24/Swift之去掉UItableview-headerview黏性 /</id>
    <published>2016-08-24T01:30:49.000Z</published>
    <updated>2016-08-24T01:30:49.000Z</updated>
    
    <content type="html"><![CDATA[<p>在使用TableView中style设置成plain模式，在数据源代理中又有section分组就会出现如下的效果（每个section的头视图会有浮动效果，也称headerview黏性 ），但如果我们不想让他浮动（或有黏性），可以在scrollview的代理中实现如下代码，即可实现我们想要的效果。</p>
<p><img src="http://ww1.sinaimg.cn/large/c05ce1e9gw1f74kr6032eg208w0fse81.gif" alt="实现前"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">override func scrollViewDidScroll(scrollView: UIScrollView) &#123;</div><div class="line">        if scrollView == self.tableView  &#123;</div><div class="line">            let sectionHeaderHeight = CGFloat(50)</div><div class="line">            if (scrollView.contentOffset.y&lt;=sectionHeaderHeight&amp;&amp;scrollView.contentOffset.y&gt;=0) &#123;</div><div class="line">                    scrollView.contentInset = UIEdgeInsetsMake(-scrollView.contentOffset.y, 0, 0, 0);</div><div class="line">                    &#125; else if (scrollView.contentOffset.y&gt;=sectionHeaderHeight) &#123;</div><div class="line">                    scrollView.contentInset = UIEdgeInsetsMake(-sectionHeaderHeight, 0, 0, 0);</div><div class="line">                    &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/c05ce1e9gw1f74ksqb421g208w0fsu0z.gif" alt="实现后"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在使用TableView中style设置成plain模式，在数据源代理中又有section分组就会出现如下的效果（每个section的头视图会有浮动效果，也称headerview黏性 ），但如果我们不想让他浮动（或有黏性），可以在scrollview的代理中实现如下代码，即
    
    </summary>
    
      <category term="iOS" scheme="http://zhangjiahuan.cn/categories/iOS/"/>
    
    
      <category term="swift" scheme="http://zhangjiahuan.cn/tags/swift/"/>
    
      <category term="headerView" scheme="http://zhangjiahuan.cn/tags/headerView/"/>
    
  </entry>
  
  <entry>
    <title>最初的起点</title>
    <link href="http://zhangjiahuan.cn/2016/08/22/%E6%9C%80%E5%88%9D%E7%9A%84%E8%B5%B7%E7%82%B9/"/>
    <id>http://zhangjiahuan.cn/2016/08/22/最初的起点/</id>
    <published>2016-08-22T06:13:15.000Z</published>
    <updated>2016-08-22T06:13:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>作为一个程序员，一直都在简书、CSDN、cocoachina上面写博客，但总觉得自己的博客还是归属别人管理，而作为一个标准的程序员我觉得一定要有自己的个人站点，因此一狠心，一无所有的情况下先去万网花钱买了本域名    <a href="zhangjiahuan.cn">zhangjiahuan.cn</a> 。</p>
<p>域名都买了，就没有拖延的理由了，那就说做就做，最近刚好在看《拖延心理学》，之前在github page创建了一个网站，不过样式太过low，因此百度其他资料，找到目前在用的基于node的静态博客框架hexo，安装遇到各种问题，花了整整一天时间终于搞定，可以正常访问，写下第一篇博客。</p>
<p>以后工作中的技术文章，生活感悟都写在该博客，记录下技术的成长，同时也记录下生活的点滴，算是给未来留下回忆。。。</p>
<p>以最好的姿态迎接最美好的明天！！！</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;作为一个程序员，一直都在简书、CSDN、cocoachina上面写博客，但总觉得自己的博客还是归属别人管理，而作为一个标准的程序员我觉得一定要有自己的个人站点，因此一狠心，一无所有的情况下先去万网花钱买了本域名    &lt;a href=&quot;zhangjiahuan.cn&quot;&gt;zh
    
    </summary>
    
      <category term="生活" scheme="http://zhangjiahuan.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="起点" scheme="http://zhangjiahuan.cn/tags/%E8%B5%B7%E7%82%B9/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://zhangjiahuan.cn/2016/08/15/hello-world/"/>
    <id>http://zhangjiahuan.cn/2016/08/15/hello-world/</id>
    <published>2016-08-15T06:07:45.000Z</published>
    <updated>2016-08-15T06:07:45.000Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
    
  </entry>
  
</feed>
